require "socket"

hosts do
  if Socket.gethostname == "vagrant"
    use "vagrant"
  else
    use "brewmaster", cores: 27
    use "ethon"
  end
end

simulation_basedir = File.open(".simbase").read
virtualenv = File.open(".virtualenv").read

simulation PythonEnvironment, File.join(simulation_basedir, "simmain.py"),
  virtualenv: virtualenv,
  interpreter: "pypy"
